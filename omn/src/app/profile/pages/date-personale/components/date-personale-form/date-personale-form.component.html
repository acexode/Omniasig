<app-sub-page-header [config]="headerConfig"> </app-sub-page-header>
<ion-content>
  <ion-grid *ngIf="!errorPage" class="mx-32 mt-72 p-0">
    <ng-container *ngIf="formGroup">
      <ion-col class="ion-no-padding" [formGroup]="formGroup" #form>
        <ion-row class="ion-no-padding">
          <ng-container *ngIf="email && formMode === formModes.EDIT_EMAIL">
            <ion-item class="form-group w-100">
              <ion-label position="stacked" class="mb-8 input-label"
                >Adresă nouă de e-mail</ion-label
              >
              <ion-input
                type="email"
                autocomplete="email"
                formControlName="email"
              ></ion-input> </ion-item
          ></ng-container>
          <ng-container *ngIf="cnp && formMode === formModes.EDIT_CNP">
            <ion-item class="form-group w-100">
              <ion-label class="mb-8 input-label" position="stacked"
                >CNP</ion-label
              >
              <ion-input
                type="tel"
                formControlName="cnp"
                placeholder="1234567891012"
                maxlength="13"
                minlength="13"
              ></ion-input>
            </ion-item>
          </ng-container>
        </ion-row>
        <ion-row
          class="ion-no-padding mt-16 w-100 ion-justify-content-center"
          *ngIf="formMode === formModes.EDIT_EMAIL"
        >
          <ion-label color="omn-green" class="text-normal ion-text-center ion"
            >Această adresă va trebui validată.</ion-label
          >
        </ion-row>
        <ion-row
          class="ion-no-padding mt-96 flex flex-1 flex-column ion-align-items-end ion-justify-content-end"
        >
          <ng-container *ngIf="formMode === formModes.EDIT_EMAIL">
            <ion-label
              *ngIf="timer$ | async"
              class="w-100 text-small ion-text-center ion-text-center"
              >Poți solicita un alt e-mail în {{ timer$ | async | time }}
            </ion-label>
          </ng-container>
          <ion-button
            *ngIf="(timer$ | async) === 0"
            type="submit"
            color="success"
            fill="solid"
            expand="block"
            size="large"
            class="m-0 w-100 flex mt-auto"
            [disabled]="!formGroup?.valid || formSubmitting"
            (click)="submitForm()"
            >Salveaza
          </ion-button>
        </ion-row>
      </ion-col>
    </ng-container>
  </ion-grid>
  <ion-grid *ngIf="errorPage" class="px-32 pt-32 pb-24 flex flex-1 mh-100p flex-column">
    <ion-col class="ion-no-padding flex flex-1 flex-column">
      <ion-row
        class="ion-no-padding flex flex-1 ion-justify-content-center ion-align-items-center mt-44"
      >
        <ion-icon
          name="generic-error-icon"
          class="check-icon-lg"
        ></ion-icon>
      </ion-row>
      <ion-row
        class="flex ion-no-padding ion-align-items-center ion-justify-content-center flex-0"
      >
        <ion-label
          color="omn-green"
          class="h2 ls-min-02 alt-font border-danger ion-text-center text-weight-bold w-auto"
          
          >Ne pare rău...
        </ion-label>
      </ion-row>
      <ion-row
        class="ion-no-padding ls-min-01 lh-22 my-16 flex flex-1 flex-column ion-align-items-start w-100"
      >
        <ion-label          
          [color]="item?.color"          
          class="w-100 ion-text-center"
          >{{ errorPage }}</ion-label
        >
      </ion-row>
      <ion-row class="ion-justify-content-center mt-auto flex flex-1 flex-column ion-justify-content-end mx-24">
        <ion-button expand="block" fill="clear" (click)="goBack()"><span
            class="button-text s16-h22 ls-01 text-weight-normal">Închide</span></ion-button>
      </ion-row>
    </ion-col>
  </ion-grid>
  
</ion-content>
